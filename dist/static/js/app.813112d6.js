(function(){"use strict";var t={9089:function(t,e,s){var i=s(5471),o=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"TopBox"},["/"!==t.$route.path?e("div",{staticClass:"topIcon iconfont icon-a-037_zhuye32",on:{click:function(e){return t.goIndex()}}}):t._e(),e("div",{staticClass:"TitleBox"},[t._v(t._s(t.$route.meta.title))])]),e("div",{staticStyle:{"padding-top":"60px"}},[e("router-view")],1)])},n=[],a=(s(4114),{name:"app",components:{},methods:{goIndex(){this.$router.push("/")}}}),r=a,l=s(1656),c=(0,l.A)(r,o,n,!1,null,null,null),u=c.exports,d=s(173),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"All"},[e("div",{ref:"scrollArea",staticClass:"MiddleBox"},t._l(t.infoList,(function(s,i){return e("div",{key:i,staticClass:"DataBox",staticStyle:{"overflow-y":"scroll"}},[e("div",{staticClass:"DataItemBox",class:{"align-right":1===s.id,"align-left":2===s.id}},[e("div",{class:{DataItem1:1===s.id,DataItem2:2===s.id}},[t._v(t._s(s.data))])])])})),0),e("div",{staticClass:"speakBigBox"},[t.istext?e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],staticClass:"speakText",domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value)}}}):t._e(),e("div",{staticClass:"speakBox_Two"},[e("div",{staticClass:"jianPan",class:{small:t.isJpPressed},style:t.istext?{backgroundColor:"#4fabe5"}:{backgroundColor:"gray"},attrs:{ontouchstart:"return false;",onselectstart:"return false;"},on:{touchstart:function(e){return e.stopPropagation(),t.pressJpButton.apply(null,arguments)},touchend:function(e){return e.stopPropagation(),t.releaseJpButton.apply(null,arguments)}}},[e("i",{staticClass:"iconfont icon-jianpan1"})]),e("div",{staticClass:"SpeakBox",class:{small:t.isPressed},attrs:{ontouchstart:"return false;",onselectstart:"return false;"},on:{touchstart:function(e){return e.stopPropagation(),t.pressButton.apply(null,arguments)},touchend:function(e){return e.stopPropagation(),t.releaseButton.apply(null,arguments)}}},[e("i",{staticClass:"ht iconfont icon-huatong"}),t._v(" 按住说话 ")]),e("div",{staticClass:"faSong",class:{small:t.isFsPressed},style:t.text?{backgroundColor:"#4fabe5"}:{backgroundColor:"gray"},attrs:{ontouchstart:"return false;",onselectstart:"return false;"},on:{touchstart:function(e){return e.stopPropagation(),t.pressFsButton.apply(null,arguments)},touchend:function(e){return e.stopPropagation(),t.releaseFsButton.apply(null,arguments)}}},[e("i",{staticClass:"iconfont icon-fasong1"})])])])])},h=[],f=s(4335),g={name:"HomeView",data(){return{isPressed:!1,isJpPressed:!1,isFsPressed:!1,istext:!1,text:"",recognition:null,infoList:[]}},mounted(){this.getCachedData(),this.scrollToBottom()},methods:{scrollToBottom(){i.Ay.nextTick((()=>{this.$refs.scrollArea.scrollTop=this.$refs.scrollArea.scrollHeight}))},getCachedData(){const t=localStorage.getItem("infoList");t?(this.$data.infoList=JSON.parse(t),console.log(this.$data.infoList)):console.log("没有找到缓存数据")},pressButton(){this.istext||(this.istext=!0),this.isPressed=!0,this.recognition=new window.webkitSpeechRecognition,this.recognition.lang="zh-CN",this.recognition.continuous=!0,this.recognition.onresult=t=>{this.$data.text=t.results[t.results.length-1][0].transcript;for(let e=0;e<t.results.length;e++)console.log(t.results[e][0].transcript)},this.recognition.start()},releaseButton(){this.recognition&&(this.recognition.stop(),this.recognition=null),this.isPressed=!1},pressJpButton(){this.isJpPressed=!0},releaseJpButton(){this.isJpPressed=!1,this.istext=!this.istext},pressFsButton(){this.text&&(this.isFsPressed=!0)},releaseFsButton(){this.text&&(this.isFsPressed=!1,this.handleTranslate())},handleTranslate(){const t=this.$data.text,e={id:1,data:t};this.$data.text="",this.istext=!1,this.scrollToBottom();let s=JSON.parse(localStorage.getItem("infoList"))||[];s.push(e),localStorage.setItem("infoList",JSON.stringify(s)),this.getCachedData(),f.A.post("https://aip.baidubce.com/rpc/2.0/mt/texttrans/v1?access_token=24.8f9127728ff2e7ac7ff43a33eb40db88.2592000.1720589798.282335-80733545",{q:t,from:"zh",to:"en"},{headers:{"Content-Type":"application/json;charset=utf-8"}}).then((t=>{const e={id:2,data:t.data.result.trans_result[0].dst};let s=JSON.parse(localStorage.getItem("infoList"))||[];s.push(e),localStorage.setItem("infoList",JSON.stringify(s)),this.getCachedData(),this.scrollToBottom()})).catch((t=>{console.error(t)}))}}},m=g,v=(0,l.A)(m,p,h,!1,null,"1f2168ea",null),x=v.exports,y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"All"},[e("div",{staticClass:"greetings"},[t._v(t._s(t.greeting))]),e("div",{staticClass:"ContentBox"},[e("div",{staticClass:"tabs"},[e("div",{class:{active:1===t.currentSlide},on:{click:function(e){return t.slideTo(1)}}},[t._v("访谈室")]),e("div",{class:{active:2===t.currentSlide},on:{click:function(e){return t.slideTo(2)}}},[t._v("编辑部")]),e("div",{class:{active:3===t.currentSlide},on:{click:function(e){return t.slideTo(3)}}},[t._v("藏卷馆")])]),e("div",{ref:"swiperContainer",staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},[e("div",{staticClass:"swiper-slide"},t._l(t.TalkBoxBgi,(function(s,i){return e("div",{key:i,staticClass:"talkBoxItem",class:[(i+1)%4===1||(i+1)%4===0?"talkBoxItemLeft":"talkBoxItemRight",i===t.activeIndex&&t.isPressed?"small":""],style:{backgroundImage:`url(${s.bgi})`,margin:i>2?"3vw 0 0 3.33%":"0 0 0 3.33%"},attrs:{onselectstart:"return false;"},on:{touchmove:t.handleMove,touchstart:function(e){return t.pressButton(i)},touchend:function(e){return t.releaseButton(s.text)}}},[e("div",{staticClass:"talkBoxItem_Text"},[t._v(t._s(s.text))])])})),0),e("div",{staticClass:"swiper-slide"},[t._v("Slide 2")]),e("div",{staticClass:"swiper-slide"},[t._v("Slide 3")])])])]),t._m(0)])},_=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"AddBox"},[e("i",{staticClass:"iconfont icon-tianjia"})])}],b=s(4654),C={name:"IndexPage",data(){return{greeting:"刘奶奶,早上好!",mySwiper:null,currentSlide:1,activeIndex:null,isPressed:!1,isMove:!0,TalkBoxBgi:[{text:"童年印象",bgi:"https://img.zcool.cn/community/0125e15e4fe442a8012165182e7572.jpg@1280w_1l_2o_100sh.jpg"},{text:"儿时玩伴",bgi:"https://img.zcool.cn/community/01c79f5d9f3084a801211d533875a0.jpg@3000w_1l_2o_100sh.jpg"},{text:"家庭记忆",bgi:"https://img.zcool.cn/community/01830862b98eb90002c313f7c9d4a3.jpg?x-oss-process=image/auto-orient,1/resize,m_lfit,w_1280,limit_1/sharpen,100"},{text:"童年印象",bgi:"https://img.zcool.cn/community/0125e15e4fe442a8012165182e7572.jpg@1280w_1l_2o_100sh.jpg"},{text:"儿时玩伴",bgi:"https://img.zcool.cn/community/01c79f5d9f3084a801211d533875a0.jpg@3000w_1l_2o_100sh.jpg"},{text:"家庭记忆",bgi:"https://img.zcool.cn/community/01830862b98eb90002c313f7c9d4a3.jpg?x-oss-process=image/auto-orient,1/resize,m_lfit,w_1280,limit_1/sharpen,100"},{text:"家庭记忆",bgi:"https://img.zcool.cn/community/01da0a5e6db913a801216518b5ee6b.jpg@2o.jpg"}]}},computed:{},mounted(){var t=this;this.mySwiper=new b.A(this.$refs.swiperContainer,{loop:!1,on:{slideChange:function(){t.$data.currentSlide=this.realIndex+1}}})},methods:{slideTo(t){t<1?t=1:t>3&&(t=3),this.mySwiper.slideToLoop(t-1),this.currentSlide=t},pressButton(t){this.isMove=!0,this.activeIndex=t,this.isPressed=!0},releaseButton(t){this.isPressed=!1,console.log("滑动："+t),this.isMove&&this.$router.push("/home")},handleMove(){this.isMove=!1}}},w=C,B=(0,l.A)(w,y,_,!1,null,"b4c271ae",null),S=B.exports;i.Ay.use(d.Ay);const k=[{path:"/home",name:"home",component:x,meta:{title:"文本翻译"}},{path:"/",name:"indexpage",component:S,meta:{title:"时光之语"}}],P=new d.Ay({routes:k});var T=P,j=s(5353);i.Ay.use(j.Ay);var I=new j.Ay.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});i.Ay.config.productionTip=!1,new i.Ay({router:T,store:I,render:t=>t(u)}).$mount("#app")}},e={};function s(i){var o=e[i];if(void 0!==o)return o.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,i,o,n){if(!i){var a=1/0;for(u=0;u<t.length;u++){i=t[u][0],o=t[u][1],n=t[u][2];for(var r=!0,l=0;l<i.length;l++)(!1&n||a>=n)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(r=!1,n<a&&(a=n));if(r){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[i,o,n]}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var o,n,a=i[0],r=i[1],l=i[2],c=0;if(a.some((function(e){return 0!==t[e]}))){for(o in r)s.o(r,o)&&(s.m[o]=r[o]);if(l)var u=l(s)}for(e&&e(i);c<a.length;c++)n=a[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(u)},i=self["webpackChunkaichat"]=self["webpackChunkaichat"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504],(function(){return s(9089)}));i=s.O(i)})();
//# sourceMappingURL=app.813112d6.js.map